/*
SELECT * FROM USUARIO ;
ID  	ENABLED  	PASSWORD  	USERNAME  	PERFIL_ID  
1	TRUE	senha123	@carl	1
2	TRUE	senha456	@marilia	2
3	TRUE	senha789	@flavia	3
(3 rows, 1 ms)

SELECT * FROM PERFIL ;
ID  	PERFIL  
1	ADMINISTRADOR
2	USUARIO
3	DESENVOLVEDOR
4	TESTER
5	VISITANTE
(5 rows, 0 ms)

SELECT *  FROM ROLE ;
ID  	ROLE  
1	ROLE_ADMIN
2	ROLE_USUARIO
3	ROLE_DEV
4	ROLE_CADASTRO
5	ROLE_CONSULTA
6	ROLE_ALTERACAO
7	ROLE_EXCLUSAO
(7 rows, 0 ms)

SELECT * FROM PERFIL_ROLES ;
PERFIS_ID  	ROLES_ID  
1	1
1	2
2	5
3	1
3	2
3	3
3	4
3	5
3	6
3	7
4	2
4	3
4	4
4	5
4	6
4	7
(16 rows, 1 ms)

SELECT * FROM "schema_version";
version_rank  	installed_rank  	version  	description  	type  	script  	checksum  	installed_by  	installed_on  	execution_time  	success  
1	1	1	script-create-tables	SQL	SC1__script-create-tables.sql	1189361230	SA	2018-02-20 16:53:20.529	47	TRUE
2	2	2	script-inserts	SQL	SC2__script-inserts.sql	1290115779	SA	2018-02-20 16:53:20.561	16	TRUE
3	3	3	script-selects-simples	SQL	SC3__script-selects-simples.sql	-1870138576	SA	2018-02-20 16:53:20.592	16	TRUE
(3 rows, 2 ms)


/*CONSULTA ROLES*/ 
SELECT u.username, r.role FROM PERFIL_ROLES pr 
INNER JOIN PERFIL p ON pr.PERFIS_ID = p.ID 
INNER JOIN USUARIO u ON u.PERFIL_ID = p.ID 
INNER JOIN ROLE r ON pr.ROLES_ID = r.id 
WHERE u.username = '@carl';
USERNAME  	ROLE  
@carl	ROLE_ADMIN
@carl	ROLE_USUARIO
(2 rows, 1 ms)


/*CONSULTA USUARIO / PERFIL / ROLES*/ 
SELECT u.id, u.username, p.id, p.perfil, r.id, r.role FROM PERFIL_ROLES pr 
INNER JOIN PERFIL p ON pr.PERFIS_ID = p.ID 
INNER JOIN USUARIO u ON u.PERFIL_ID = p.ID 
INNER JOIN ROLE r ON pr.ROLES_ID = r.id;
ID  	USERNAME  	ID  	PERFIL  	ID  	ROLE  
1	@carl	1	ADMINISTRADOR	1	ROLE_ADMIN
1	@carl	1	ADMINISTRADOR	2	ROLE_USUARIO
2	@marilia	2	USUARIO	5	ROLE_CONSULTA
3	@flavia	3	DESENVOLVEDOR	1	ROLE_ADMIN
3	@flavia	3	DESENVOLVEDOR	2	ROLE_USUARIO
3	@flavia	3	DESENVOLVEDOR	3	ROLE_DEV
3	@flavia	3	DESENVOLVEDOR	4	ROLE_CADASTRO
3	@flavia	3	DESENVOLVEDOR	5	ROLE_CONSULTA
3	@flavia	3	DESENVOLVEDOR	6	ROLE_ALTERACAO
3	@flavia	3	DESENVOLVEDOR	7	ROLE_EXCLUSAO
(10 rows, 2 ms)


/*CONSULTA INDEPENDENTE DE USUARIO / PERFIL / ROLES*/ 
SELECT * FROM PERFIL p 
INNER JOIN  PERFIL_ROLES pr ON pr.PERFIS_ID = p.ID 
INNER JOIN ROLE r ON pr.ROLES_ID = r.id 
LEFT JOIN USUARIO u ON u.PERFIL_ID = p.ID;
ID  	PERFIL  	PERFIS_ID  	ROLES_ID  	ID  	ROLE  	ID  	ENABLED  	PASSWORD  	USERNAME  	PERFIL_ID  
1	ADMINISTRADOR	1	1	1	ROLE_ADMIN	1	TRUE	senha123	@carl	1
1	ADMINISTRADOR	1	2	2	ROLE_USUARIO	1	TRUE	senha123	@carl	1
2	USUARIO	2	5	5	ROLE_CONSULTA	2	TRUE	senha456	@marilia	2
3	DESENVOLVEDOR	3	1	1	ROLE_ADMIN	3	TRUE	senha789	@flavia	3
3	DESENVOLVEDOR	3	2	2	ROLE_USUARIO	3	TRUE	senha789	@flavia	3
3	DESENVOLVEDOR	3	3	3	ROLE_DEV	3	TRUE	senha789	@flavia	3
3	DESENVOLVEDOR	3	4	4	ROLE_CADASTRO	3	TRUE	senha789	@flavia	3
3	DESENVOLVEDOR	3	5	5	ROLE_CONSULTA	3	TRUE	senha789	@flavia	3
3	DESENVOLVEDOR	3	6	6	ROLE_ALTERACAO	3	TRUE	senha789	@flavia	3
3	DESENVOLVEDOR	3	7	7	ROLE_EXCLUSAO	3	TRUE	senha789	@flavia	3
4	TESTER	4	2	2	ROLE_USUARIO	null	null	null	null	null
4	TESTER	4	3	3	ROLE_DEV	null	null	null	null	null
4	TESTER	4	4	4	ROLE_CADASTRO	null	null	null	null	null
4	TESTER	4	5	5	ROLE_CONSULTA	null	null	null	null	null
4	TESTER	4	6	6	ROLE_ALTERACAO	null	null	null	null	null
4	TESTER	4	7	7	ROLE_EXCLUSAO	null	null	null	null	null
(16 rows, 2 ms)
*/